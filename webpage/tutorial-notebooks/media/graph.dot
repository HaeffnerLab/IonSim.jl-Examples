digraph {
outputorder=edgesfirst
bgcolor=transparent
// bgcolor=white

// Default node attributes
node [
  style="filled,bold,rounded"
  fontname="Lato"
  fillcolor = "grey99"
  shape=record
]

// Edges
Ion -> LinearChain
VibrationalMode -> LinearChain
LinearChain -> Chamber
Laser -> Chamber
MagneticField -> Chamber

// Node attributes
Ion [
    label="{
        Ion \<: IonSimBasis|
        sublevels::vector\l
        manualshift::Dict\l
        sublevelaliases::OrderedDict\l
    }"
]

LinearChain [
    label="{
        LinearChain \<: IonTrap|
        ions::Vector\{\<:Ion\}\l
        com_frequencies::NamedTuple\{(:x,:y,:z)\}\l
        selectedmodes::NamedTuple\{(:x,:y,:z)\l
    }"
]

Chamber [
    label="{
        Chamber|
        configuration::\<:IonTrap\l
        B::Real\l
        Bhat::NamedTuple\{(:x,:y,:z)\}\l
        ∇B::Real\l
        δB::Function\l
        Lasers::Vector\{Laser\}\l
    }"
]

Laser [
    label="{
        Laser|
        λ::Real\l
        E::Function\l
        Δ::Real\l
        ϵ::NamedTuple\{(:x,:y,:z)\}\l
        k::NamedTuple\{(:x,:y,:z)\}\l
        ϕ::Function\l
        pointing::Vector\{Tuple\}\l
    }"
]
VibrationalMode [ 
    label="{
        VibrationalMode \<: IonSimBasis|
        ν::Real\l
        δν::Function\l
        N::Int\l
        modestructure::Vector\l
        axis::NamedTuple\{(:x,:y,:z)\}\l
    }"
]

MagneticField [
    label="{
        MagneticField \<: IonSimBasis|
        not implemented
    }"
]

} // digraph